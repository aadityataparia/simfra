{"version":3,"file":"sifrr.api.module.js","sources":["../src/api/flatten.js","../src/utils/filterobject.js","../src/api/attrtypes.js","../src/api/graphql/basetype.js","../src/api/graphql/model.js","../src/api/graphql/connection.js","../../../../node_modules/graphql-relay/lib/connection/connection.js","../../../../node_modules/graphql-relay/lib/utils/base64.js","../../../../node_modules/graphql-relay/lib/connection/arrayconnection.js","../../../../node_modules/graphql-relay/lib/mutation/mutation.js","../../../../node_modules/graphql-relay/lib/node/node.js","../../../../node_modules/graphql-relay/lib/node/plural.js","../../../../node_modules/graphql-relay/lib/index.js","../src/api/ormmodels/sequelize.js","../src/api/graphqlexecutor.js","../src/api/loadroutes.js","../src/api/constants.js","../src/api/createschemafrommodels.js","../src/api/reqtovariables.js","../src/sifrr.api.js"],"sourcesContent":["module.exports = (attrs, separator = ', ', addDescription = false) => {\n  const str = [];\n  for (let attr in attrs) {\n    if (addDescription && attrs[attr].description) str.push(`\"\"\"${attrs[attr].description}\"\"\"`);\n    str.push(`${attr}: ${attrs[attr].type || attrs[attr]}`);\n  }\n  return str.join(separator);\n};\n","module.exports = function(json, fxn) {\n  const res = {};\n  for (let k in json) {\n    if (fxn(k)) res[k] = json[k];\n  }\n  return res;\n};\n","const flatten = require('./flatten');\nconst filter = require('../utils/filterobject');\n\nmodule.exports = (attrs, required = [], allowed = []) => {\n  if (allowed.length > 0)\n    attrs = filter(attrs, attr => allowed.indexOf(attr) >= 0 || required.indexOf(attr) >= 0);\n  let ret = {},\n    type;\n  for (let attr in attrs) {\n    let bang = required.indexOf(attr) >= 0 ? true : false;\n    if (attrs[attr].returnType) {\n      type = attrs[attr].returnType;\n    } else if (!attrs[attr].type) {\n      type = attrs[attr];\n    } else if (attrs[attr].type.constructor.name === 'GraphQLList') {\n      type = `[${attrs[attr].type.ofType.name}]`;\n    } else if (attrs[attr].type.constructor.name === 'GraphQLNonNull') {\n      type = attrs[attr].type.ofType.name;\n      bang = true;\n    } else if (attrs[attr].type.name) {\n      type = attrs[attr].type.name;\n    } else if (attrs[attr].type.ofType && attrs[attr].type.ofType.name) {\n      type = attrs[attr].type.ofType.name;\n    } else {\n      type = attrs[attr].type;\n    }\n    const args = attrs[attr].args ? `(${flatten(attrs[attr].args)})` : '';\n    ret[attr + args] = { type: type + (bang ? '!' : '') };\n    if (attrs[attr].description) ret[attr + args].description = attrs[attr].description;\n  }\n  return ret;\n};\n","const attrTypes = require('../attrtypes');\n\nclass BaseType {\n  constructor(attributes) {\n    this._attributes = attributes;\n  }\n\n  addAttribute(name, attribute) {\n    this._attributes[name] = attribute;\n  }\n\n  filterAttributes({ allowed = [], required = [] }) {\n    this._allowedAttrs = allowed;\n    this._reqAttrs = required;\n  }\n\n  getFilteredAttributes({ required = [], allowed = [] }) {\n    return attrTypes(this._attributes, required, allowed);\n  }\n\n  getResolvers() {\n    const resolvers = {};\n    for (let attr in this._attributes) {\n      if (this._attributes[attr].resolver) resolvers[attr] = this._attributes[attr].resolver;\n    }\n    return resolvers;\n  }\n\n  get attributes() {\n    return this.getFilteredAttributes({ required: this._reqAttrs, allowed: this._allowedAttrs });\n  }\n\n  get schemaPrefix() {\n    return `${this.description ? `\"\"\"${this.description}\"\"\"\\n` : ''}`;\n  }\n}\n\nmodule.exports = BaseType;\n","const BaseType = require('./basetype');\nconst flatten = require('../flatten');\n\nclass Model extends BaseType {\n  constructor(type, attributes = {}, { queries = {}, mutations = {} }) {\n    super(attributes);\n    this.type = type;\n    this.queries = queries;\n    this.mutations = mutations;\n    this.connections = [];\n    this._allowedAttrs = [];\n    this._reqAttrs = [];\n    this.description;\n  }\n\n  addConnection(name, connection) {\n    this.connections.push(connection);\n    this._attributes[name] = connection;\n  }\n\n  addConnectionQuery(name, connection) {\n    this.connections.push(connection);\n    this.queries[name] = connection;\n  }\n\n  addQuery(name, query) {\n    this.queries[name] = query;\n  }\n\n  addMutation(name, mutation) {\n    this.mutations[name] = mutation;\n  }\n\n  getSchema() {\n    return (\n      this.schemaPrefix +\n      `type ${this.type} {\n  ${flatten(this.attributes, '\\n  ', true)}\n}`\n    );\n  }\n}\n\nmodule.exports = Model;\n","const BaseType = require('./basetype');\nconst flatten = require('../flatten');\n\nclass Connection extends BaseType {\n  constructor(type, args, resolver, nodeType) {\n    super({});\n    this.type = type;\n    this.args = args;\n    this.resolver = resolver;\n    this.nodeType = nodeType;\n    this.description;\n  }\n\n  clone(resolver = this.resolver) {\n    const conn = new Connection(this.type, this.args, resolver, this.nodeType);\n    conn._attributes = this._attributes;\n    conn.description = this.description;\n    conn.base = this;\n    return conn;\n  }\n\n  addArgument(name, type) {\n    this.args[name] = type;\n  }\n\n  getSchema() {\n    return (\n      this.schemaPrefix +\n      `type ${this.type} {\n  edges: [${this.type + 'Edge'}]\n  ${flatten(this.attributes, '\\n  ', true)}\n}\n\ntype ${this.type + 'Edge'} {\n  node: ${this.nodeType}\n  cursor: String\n}`\n    );\n  }\n}\n\nmodule.exports = Connection;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connectionArgs = exports.backwardConnectionArgs = exports.forwardConnectionArgs = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * Copyright (c) 2015-present, Facebook, Inc.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * This source code is licensed under the MIT license found in the\n                                                                                                                                                                                                                                                                   * LICENSE file in the root directory of this source tree.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * \n                                                                                                                                                                                                                                                                   */\n\nexports.connectionDefinitions = connectionDefinitions;\n\nvar _graphql = require('graphql');\n\n/**\n * Returns a GraphQLFieldConfigArgumentMap appropriate to include on a field\n * whose return type is a connection type with forward pagination.\n */\nvar forwardConnectionArgs = exports.forwardConnectionArgs = {\n  after: {\n    type: _graphql.GraphQLString\n  },\n  first: {\n    type: _graphql.GraphQLInt\n  }\n};\n\n/**\n * Returns a GraphQLFieldConfigArgumentMap appropriate to include on a field\n * whose return type is a connection type with backward pagination.\n */\nvar backwardConnectionArgs = exports.backwardConnectionArgs = {\n  before: {\n    type: _graphql.GraphQLString\n  },\n  last: {\n    type: _graphql.GraphQLInt\n  }\n};\n\n/**\n * Returns a GraphQLFieldConfigArgumentMap appropriate to include on a field\n * whose return type is a connection type with bidirectional pagination.\n */\nvar connectionArgs = exports.connectionArgs = _extends({}, forwardConnectionArgs, backwardConnectionArgs);\n\nfunction resolveMaybeThunk(thingOrThunk) {\n  return typeof thingOrThunk === 'function' ? // $FlowFixMe - if it's a function, we assume a thunk without arguments\n  thingOrThunk() : thingOrThunk;\n}\n\n/**\n * Returns a GraphQLObjectType for a connection with the given name,\n * and whose nodes are of the specified type.\n */\nfunction connectionDefinitions(config) {\n  var nodeType = config.nodeType;\n\n  var name = config.name || nodeType.name;\n  var edgeFields = config.edgeFields || {};\n  var connectionFields = config.connectionFields || {};\n  var resolveNode = config.resolveNode;\n  var resolveCursor = config.resolveCursor;\n  var edgeType = new _graphql.GraphQLObjectType({\n    name: name + 'Edge',\n    description: 'An edge in a connection.',\n    fields: function fields() {\n      return _extends({\n        node: {\n          type: nodeType,\n          resolve: resolveNode,\n          description: 'The item at the end of the edge'\n        },\n        cursor: {\n          type: new _graphql.GraphQLNonNull(_graphql.GraphQLString),\n          resolve: resolveCursor,\n          description: 'A cursor for use in pagination'\n        }\n      }, resolveMaybeThunk(edgeFields));\n    }\n  });\n\n  var connectionType = new _graphql.GraphQLObjectType({\n    name: name + 'Connection',\n    description: 'A connection to a list of items.',\n    fields: function fields() {\n      return _extends({\n        pageInfo: {\n          type: new _graphql.GraphQLNonNull(pageInfoType),\n          description: 'Information to aid in pagination.'\n        },\n        edges: {\n          type: new _graphql.GraphQLList(edgeType),\n          description: 'A list of edges.'\n        }\n      }, resolveMaybeThunk(connectionFields));\n    }\n  });\n\n  return { edgeType: edgeType, connectionType: connectionType };\n}\n\n/**\n * The common page info type used by all connections.\n */\nvar pageInfoType = new _graphql.GraphQLObjectType({\n  name: 'PageInfo',\n  description: 'Information about pagination in a connection.',\n  fields: function fields() {\n    return {\n      hasNextPage: {\n        type: new _graphql.GraphQLNonNull(_graphql.GraphQLBoolean),\n        description: 'When paginating forwards, are there more items?'\n      },\n      hasPreviousPage: {\n        type: new _graphql.GraphQLNonNull(_graphql.GraphQLBoolean),\n        description: 'When paginating backwards, are there more items?'\n      },\n      startCursor: {\n        type: _graphql.GraphQLString,\n        description: 'When paginating backwards, the cursor to continue.'\n      },\n      endCursor: {\n        type: _graphql.GraphQLString,\n        description: 'When paginating forwards, the cursor to continue.'\n      }\n    };\n  }\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.base64 = base64;\nexports.unbase64 = unbase64;\nfunction base64(i) {\n  return Buffer.from(i, 'utf8').toString('base64');\n} /**\n   * Copyright (c) 2015-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   */\n\nfunction unbase64(i) {\n  return Buffer.from(i, 'base64').toString('utf8');\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connectionFromArray = connectionFromArray;\nexports.connectionFromPromisedArray = connectionFromPromisedArray;\nexports.connectionFromArraySlice = connectionFromArraySlice;\nexports.connectionFromPromisedArraySlice = connectionFromPromisedArraySlice;\nexports.offsetToCursor = offsetToCursor;\nexports.cursorToOffset = cursorToOffset;\nexports.cursorForObjectInConnection = cursorForObjectInConnection;\nexports.getOffsetWithDefault = getOffsetWithDefault;\n\nvar _base = require('../utils/base64.js');\n\n/**\n * A simple function that accepts an array and connection arguments, and returns\n * a connection object for use in GraphQL. It uses array offsets as pagination,\n * so pagination will only work if the array is static.\n */\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction connectionFromArray(data, args) {\n  return connectionFromArraySlice(data, args, {\n    sliceStart: 0,\n    arrayLength: data.length\n  });\n}\n\n/**\n * A version of `connectionFromArray` that takes a promised array, and returns a\n * promised connection.\n */\nfunction connectionFromPromisedArray(dataPromise, args) {\n  return dataPromise.then(function (data) {\n    return connectionFromArray(data, args);\n  });\n}\n\n/**\n * Given a slice (subset) of an array, returns a connection object for use in\n * GraphQL.\n *\n * This function is similar to `connectionFromArray`, but is intended for use\n * cases where you know the cardinality of the connection, consider it too large\n * to materialize the entire array, and instead wish pass in a slice of the\n * total result large enough to cover the range specified in `args`.\n */\nfunction connectionFromArraySlice(arraySlice, args, meta) {\n  var after = args.after,\n      before = args.before,\n      first = args.first,\n      last = args.last;\n  var sliceStart = meta.sliceStart,\n      arrayLength = meta.arrayLength;\n\n  var sliceEnd = sliceStart + arraySlice.length;\n  var beforeOffset = getOffsetWithDefault(before, arrayLength);\n  var afterOffset = getOffsetWithDefault(after, -1);\n\n  var startOffset = Math.max(sliceStart - 1, afterOffset, -1) + 1;\n  var endOffset = Math.min(sliceEnd, beforeOffset, arrayLength);\n  if (typeof first === 'number') {\n    if (first < 0) {\n      throw new Error('Argument \"first\" must be a non-negative integer');\n    }\n\n    endOffset = Math.min(endOffset, startOffset + first);\n  }\n  if (typeof last === 'number') {\n    if (last < 0) {\n      throw new Error('Argument \"last\" must be a non-negative integer');\n    }\n\n    startOffset = Math.max(startOffset, endOffset - last);\n  }\n\n  // If supplied slice is too large, trim it down before mapping over it.\n  var slice = arraySlice.slice(Math.max(startOffset - sliceStart, 0), arraySlice.length - (sliceEnd - endOffset));\n\n  var edges = slice.map(function (value, index) {\n    return {\n      cursor: offsetToCursor(startOffset + index),\n      node: value\n    };\n  });\n\n  var firstEdge = edges[0];\n  var lastEdge = edges[edges.length - 1];\n  var lowerBound = after ? afterOffset + 1 : 0;\n  var upperBound = before ? beforeOffset : arrayLength;\n  return {\n    edges: edges,\n    pageInfo: {\n      startCursor: firstEdge ? firstEdge.cursor : null,\n      endCursor: lastEdge ? lastEdge.cursor : null,\n      hasPreviousPage: typeof last === 'number' ? startOffset > lowerBound : false,\n      hasNextPage: typeof first === 'number' ? endOffset < upperBound : false\n    }\n  };\n}\n\n/**\n * A version of `connectionFromArraySlice` that takes a promised array slice,\n * and returns a promised connection.\n */\nfunction connectionFromPromisedArraySlice(dataPromise, args, arrayInfo) {\n  return dataPromise.then(function (data) {\n    return connectionFromArraySlice(data, args, arrayInfo);\n  });\n}\n\nvar PREFIX = 'arrayconnection:';\n\n/**\n * Creates the cursor string from an offset.\n */\nfunction offsetToCursor(offset) {\n  return (0, _base.base64)(PREFIX + offset);\n}\n\n/**\n * Rederives the offset from the cursor string.\n */\nfunction cursorToOffset(cursor) {\n  return parseInt((0, _base.unbase64)(cursor).substring(PREFIX.length), 10);\n}\n\n/**\n * Return the cursor associated with an object in an array.\n */\nfunction cursorForObjectInConnection(data, object) {\n  var offset = data.indexOf(object);\n  if (offset === -1) {\n    return null;\n  }\n  return offsetToCursor(offset);\n}\n\n/**\n * Given an optional cursor and a default offset, returns the offset\n * to use; if the cursor contains a valid offset, that will be used,\n * otherwise it will be the default.\n */\nfunction getOffsetWithDefault(cursor, defaultOffset) {\n  if (typeof cursor !== 'string') {\n    return defaultOffset;\n  }\n  var offset = cursorToOffset(cursor);\n  return isNaN(offset) ? defaultOffset : offset;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * Copyright (c) 2015-present, Facebook, Inc.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * This source code is licensed under the MIT license found in the\n                                                                                                                                                                                                                                                                   * LICENSE file in the root directory of this source tree.\n                                                                                                                                                                                                                                                                   *\n                                                                                                                                                                                                                                                                   * \n                                                                                                                                                                                                                                                                   */\n\nexports.mutationWithClientMutationId = mutationWithClientMutationId;\n\nvar _graphql = require('graphql');\n\nfunction resolveMaybeThunk(thingOrThunk) {\n  return typeof thingOrThunk === 'function' ? // $FlowFixMe - if it's a function, we assume a thunk without arguments\n  thingOrThunk() : thingOrThunk;\n}\n\n/**\n * A description of a mutation consumable by mutationWithClientMutationId\n * to create a GraphQLFieldConfig for that mutation.\n *\n * The inputFields and outputFields should not include `clientMutationId`,\n * as this will be provided automatically.\n *\n * An input object will be created containing the input fields, and an\n * object will be created containing the output fields.\n *\n * mutateAndGetPayload will receive an Object with a key for each\n * input field, and it should return an Object with a key for each\n * output field. It may return synchronously, or return a Promise.\n */\n\n\n/**\n * Returns a GraphQLFieldConfig for the mutation described by the\n * provided MutationConfig.\n */\nfunction mutationWithClientMutationId(config) {\n  var name = config.name,\n      description = config.description,\n      deprecationReason = config.deprecationReason,\n      inputFields = config.inputFields,\n      outputFields = config.outputFields,\n      mutateAndGetPayload = config.mutateAndGetPayload;\n\n  var augmentedInputFields = function augmentedInputFields() {\n    return _extends({}, resolveMaybeThunk(inputFields), {\n      clientMutationId: {\n        type: _graphql.GraphQLString\n      }\n    });\n  };\n  var augmentedOutputFields = function augmentedOutputFields() {\n    return _extends({}, resolveMaybeThunk(outputFields), {\n      clientMutationId: {\n        type: _graphql.GraphQLString\n      }\n    });\n  };\n\n  var outputType = new _graphql.GraphQLObjectType({\n    name: name + 'Payload',\n    fields: augmentedOutputFields\n  });\n\n  var inputType = new _graphql.GraphQLInputObjectType({\n    name: name + 'Input',\n    fields: augmentedInputFields\n  });\n\n  return {\n    type: outputType,\n    description: description,\n    deprecationReason: deprecationReason,\n    args: {\n      input: { type: new _graphql.GraphQLNonNull(inputType) }\n    },\n    resolve: function resolve(_, _ref, context, info) {\n      var input = _ref.input;\n\n      return Promise.resolve(mutateAndGetPayload(input, context, info)).then(function (payload) {\n        payload.clientMutationId = input.clientMutationId;\n        return payload;\n      });\n    }\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nodeDefinitions = nodeDefinitions;\nexports.toGlobalId = toGlobalId;\nexports.fromGlobalId = fromGlobalId;\nexports.globalIdField = globalIdField;\n\nvar _graphql = require('graphql');\n\nvar _base = require('../utils/base64.js');\n\n/**\n * Given a function to map from an ID to an underlying object, and a function\n * to map from an underlying object to the concrete GraphQLObjectType it\n * corresponds to, constructs a `Node` interface that objects can implement,\n * and a field config for a `node` root field.\n *\n * If the typeResolver is omitted, object resolution on the interface will be\n * handled with the `isTypeOf` method on object types, as with any GraphQL\n * interface without a provided `resolveType` method.\n */\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction nodeDefinitions(idFetcher, typeResolver) {\n  var nodeInterface = new _graphql.GraphQLInterfaceType({\n    name: 'Node',\n    description: 'An object with an ID',\n    fields: function fields() {\n      return {\n        id: {\n          type: new _graphql.GraphQLNonNull(_graphql.GraphQLID),\n          description: 'The id of the object.'\n        }\n      };\n    },\n    resolveType: typeResolver\n  });\n\n  var nodeField = {\n    description: 'Fetches an object given its ID',\n    type: nodeInterface,\n    args: {\n      id: {\n        type: new _graphql.GraphQLNonNull(_graphql.GraphQLID),\n        description: 'The ID of an object'\n      }\n    },\n    resolve: function resolve(obj, _ref, context, info) {\n      var id = _ref.id;\n      return idFetcher(id, context, info);\n    }\n  };\n\n  var nodesField = {\n    description: 'Fetches objects given their IDs',\n    type: new _graphql.GraphQLNonNull(new _graphql.GraphQLList(nodeInterface)),\n    args: {\n      ids: {\n        type: new _graphql.GraphQLNonNull(new _graphql.GraphQLList(new _graphql.GraphQLNonNull(_graphql.GraphQLID))),\n        description: 'The IDs of objects'\n      }\n    },\n    resolve: function resolve(obj, _ref2, context, info) {\n      var ids = _ref2.ids;\n      return Promise.all(ids.map(function (id) {\n        return Promise.resolve(idFetcher(id, context, info));\n      }));\n    }\n  };\n\n  return { nodeInterface: nodeInterface, nodeField: nodeField, nodesField: nodesField };\n}\n\n/**\n * Takes a type name and an ID specific to that type name, and returns a\n * \"global ID\" that is unique among all types.\n */\nfunction toGlobalId(type, id) {\n  return (0, _base.base64)([type, id].join(':'));\n}\n\n/**\n * Takes the \"global ID\" created by toGlobalID, and returns the type name and ID\n * used to create it.\n */\nfunction fromGlobalId(globalId) {\n  var unbasedGlobalId = (0, _base.unbase64)(globalId);\n  var delimiterPos = unbasedGlobalId.indexOf(':');\n  return {\n    type: unbasedGlobalId.substring(0, delimiterPos),\n    id: unbasedGlobalId.substring(delimiterPos + 1)\n  };\n}\n\n/**\n * Creates the configuration for an id field on a node, using `toGlobalId` to\n * construct the ID from the provided typename. The type-specific ID is fetched\n * by calling idFetcher on the object, or if not provided, by accessing the `id`\n * property on the object.\n */\nfunction globalIdField(typeName, idFetcher) {\n  return {\n    description: 'The ID of an object',\n    type: new _graphql.GraphQLNonNull(_graphql.GraphQLID),\n    resolve: function resolve(obj, args, context, info) {\n      return toGlobalId(typeName || info.parentType.name, idFetcher ? idFetcher(obj, context, info) : obj.id);\n    }\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pluralIdentifyingRootField = pluralIdentifyingRootField;\n\nvar _graphql = require('graphql');\n\nfunction pluralIdentifyingRootField(config) {\n  var inputArgs = {};\n  var inputType = config.inputType;\n  if (inputType instanceof _graphql.GraphQLNonNull) {\n    inputType = inputType.ofType;\n  }\n  inputArgs[config.argName] = {\n    type: new _graphql.GraphQLNonNull(new _graphql.GraphQLList(new _graphql.GraphQLNonNull(inputType)))\n  };\n  return {\n    description: config.description,\n    type: new _graphql.GraphQLList(config.outputType),\n    args: inputArgs,\n    resolve: function resolve(obj, args, context, info) {\n      var inputs = args[config.argName];\n      return Promise.all(inputs.map(function (input) {\n        return Promise.resolve(config.resolveSingleInput(input, context, info));\n      }));\n    }\n  };\n} /**\n   * Copyright (c) 2015-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   */","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _connection = require('./connection/connection.js');\n\nObject.defineProperty(exports, 'backwardConnectionArgs', {\n  enumerable: true,\n  get: function get() {\n    return _connection.backwardConnectionArgs;\n  }\n});\nObject.defineProperty(exports, 'connectionArgs', {\n  enumerable: true,\n  get: function get() {\n    return _connection.connectionArgs;\n  }\n});\nObject.defineProperty(exports, 'connectionDefinitions', {\n  enumerable: true,\n  get: function get() {\n    return _connection.connectionDefinitions;\n  }\n});\nObject.defineProperty(exports, 'forwardConnectionArgs', {\n  enumerable: true,\n  get: function get() {\n    return _connection.forwardConnectionArgs;\n  }\n});\n\nvar _arrayconnection = require('./connection/arrayconnection.js');\n\nObject.defineProperty(exports, 'connectionFromArray', {\n  enumerable: true,\n  get: function get() {\n    return _arrayconnection.connectionFromArray;\n  }\n});\nObject.defineProperty(exports, 'connectionFromArraySlice', {\n  enumerable: true,\n  get: function get() {\n    return _arrayconnection.connectionFromArraySlice;\n  }\n});\nObject.defineProperty(exports, 'connectionFromPromisedArray', {\n  enumerable: true,\n  get: function get() {\n    return _arrayconnection.connectionFromPromisedArray;\n  }\n});\nObject.defineProperty(exports, 'connectionFromPromisedArraySlice', {\n  enumerable: true,\n  get: function get() {\n    return _arrayconnection.connectionFromPromisedArraySlice;\n  }\n});\nObject.defineProperty(exports, 'cursorForObjectInConnection', {\n  enumerable: true,\n  get: function get() {\n    return _arrayconnection.cursorForObjectInConnection;\n  }\n});\nObject.defineProperty(exports, 'cursorToOffset', {\n  enumerable: true,\n  get: function get() {\n    return _arrayconnection.cursorToOffset;\n  }\n});\nObject.defineProperty(exports, 'getOffsetWithDefault', {\n  enumerable: true,\n  get: function get() {\n    return _arrayconnection.getOffsetWithDefault;\n  }\n});\nObject.defineProperty(exports, 'offsetToCursor', {\n  enumerable: true,\n  get: function get() {\n    return _arrayconnection.offsetToCursor;\n  }\n});\n\nvar _mutation = require('./mutation/mutation.js');\n\nObject.defineProperty(exports, 'mutationWithClientMutationId', {\n  enumerable: true,\n  get: function get() {\n    return _mutation.mutationWithClientMutationId;\n  }\n});\n\nvar _node = require('./node/node.js');\n\nObject.defineProperty(exports, 'nodeDefinitions', {\n  enumerable: true,\n  get: function get() {\n    return _node.nodeDefinitions;\n  }\n});\n\nvar _plural = require('./node/plural.js');\n\nObject.defineProperty(exports, 'pluralIdentifyingRootField', {\n  enumerable: true,\n  get: function get() {\n    return _plural.pluralIdentifyingRootField;\n  }\n});\nObject.defineProperty(exports, 'fromGlobalId', {\n  enumerable: true,\n  get: function get() {\n    return _node.fromGlobalId;\n  }\n});\nObject.defineProperty(exports, 'globalIdField', {\n  enumerable: true,\n  get: function get() {\n    return _node.globalIdField;\n  }\n});\nObject.defineProperty(exports, 'toGlobalId', {\n  enumerable: true,\n  get: function get() {\n    return _node.toGlobalId;\n  }\n});","const { attributeFields, defaultListArgs, defaultArgs } = require('graphql-sequelize');\nconst { resolver, createConnectionResolver } = require('graphql-sequelize');\nconst Sequelize = require('sequelize');\nconst attrsToTypes = require('../attrtypes');\nconst GqModel = require('../graphql/model');\nconst GqConnection = require('../graphql/connection');\nconst { connectionArgs } = require('graphql-relay');\n\nclass SequelizeModel extends Sequelize.Model {\n  static init(options) {\n    const ret = super.init(this.schema, options);\n    ret.graphqlModel = new GqModel(ret.name, attributeFields(ret), {\n      description: `${ret.name} Model`\n    });\n    ret.graphqlConnection = new GqConnection(\n      ret.name + 'Connection',\n      connectionArgs,\n      createConnectionResolver({ target: ret }).resolveConnection,\n      ret.graphqlModel.type\n    );\n    ret._onInit();\n    return ret;\n  }\n\n  // Connections/Associations\n  static belongsToMany(model, options) {\n    return this.graphqlAssoc('belongsToMany', model, options, true);\n  }\n\n  static belongsTo(model, options) {\n    return this.graphqlAssoc('belongsTo', model, options, false);\n  }\n\n  static hasMany(model, options) {\n    return this.graphqlAssoc('hasMany', model, options, true);\n  }\n\n  static hasOne(model, options) {\n    return this.graphqlAssoc('hasOne', model, options, false);\n  }\n\n  static graphqlAssoc(type, model, options, multiple) {\n    const name = options.as || model.graphqlModel.type + (multiple ? 's' : '');\n    this[name] = super[type](model, options);\n    if (options.useConnection) {\n      const conn = model.graphqlConnection.clone(\n        createConnectionResolver({ target: this[name] }).resolveConnection\n      );\n      conn.description = options.description;\n      this.graphqlModel.addConnection(name, conn);\n    } else\n      this.graphqlModel.addAttribute(name, {\n        resolver: resolver(this[name]),\n        returnType: model.graphqlModel.type,\n        description: options.description\n      });\n    return this[name];\n  }\n\n  // on init simple method to add attributes, queries, mutations\n  static _onInit() {\n    for (let q in this.queries) this.addQuery(q, this.queries[q]);\n    for (let m in this.mutations) this.addMutation(m, this.mutations[m]);\n    for (let a in this.extraAttributes) this.addAttr(a, this.extraAttributes[a]);\n    this.onInit();\n  }\n\n  static get queries() {\n    return {};\n  }\n\n  static get mutations() {\n    return {};\n  }\n\n  static get extraAttributes() {\n    return {};\n  }\n\n  // get attributes, arguments\n  static gqAttrs(options) {\n    return this.graphqlModel.getFilteredAttributes(options);\n  }\n\n  static gqArgs({ required, allowed } = {}) {\n    return attrsToTypes(Object.assign(defaultArgs(this), defaultListArgs()), required, allowed);\n  }\n\n  // aliases on model, connection\n  static addAttr(name, options) {\n    this.graphqlModel.addAttribute(name, options);\n  }\n\n  static addQuery(name, options) {\n    this.graphqlModel.addQuery(name, options);\n  }\n\n  static addMutation(name, options) {\n    this.graphqlModel.addMutation(name, options);\n  }\n\n  static addConnectionQuery(name) {\n    this.graphqlModel.addConnectionQuery(name, this.graphqlConnection);\n  }\n\n  // Default Resolvers - getQuery, createMutation, updateMutation, upsertMutation, deleteMutation\n  static getQueryResolver(_, args, ctx, info) {\n    const include = [];\n    for (let arg in args.where) {\n      if (arg.indexOf('__') >= 0) {\n        const assocs = arg.split('__');\n        args.where['$' + assocs.join('.') + '$'] = args.where[arg];\n        include.push(...this._assocsToInclude(assocs));\n        delete args.where[arg];\n      }\n    }\n    return resolver(this, {\n      before: findOptions => {\n        findOptions.include = include;\n        return findOptions;\n      }\n    })(_, args, ctx, info);\n  }\n\n  static createMutationResolver(_, args) {\n    const include = [];\n    for (let arg in args) {\n      if (arg.indexOf('__') >= 0) {\n        const assocs = arg.split('__');\n        args[assocs[0]] = args[assocs[0]] || {};\n        args[assocs[0]][assocs[1]] = args[arg];\n        include.push(...this._assocsToInclude(assocs));\n        delete args[arg];\n      }\n    }\n    return this.create(args, { include });\n  }\n\n  static updateMutationResolver(_, args) {\n    const options = { where: { id: args.id } };\n    delete args.id;\n    return this.update(args, options).then(() => this.findByPk(options.where.id));\n  }\n\n  static upsertMutationResolver(_, args) {\n    return this.upsert(args).then(() => this.findByPk(args.id));\n  }\n\n  static deleteMutationResolver(_, args) {\n    return this.destroy({ where: args });\n  }\n\n  // private\n  static _assocsToInclude(assocs, column = true, model = this) {\n    if (column) assocs.pop();\n    const assocName = assocs.shift();\n    const include = [\n      {\n        association: model[assocName],\n        as: assocName\n      }\n    ];\n    if (assocs.length > 0) {\n      include[0].include = this._assocsToInclude(assocs, false, model[assocName].target);\n    }\n    return include;\n  }\n}\n\nmodule.exports = SequelizeModel;\n","const { graphql } = require('graphql');\n\nclass GraphqlExecutor {\n  constructor(executableSchema) {\n    this._schema = executableSchema;\n    this._middlewares = [];\n  }\n\n  resolve(query, variables, context = {}) {\n    return graphql({\n      schema: this._schema,\n      source: query,\n      variableValues: variables,\n      contextValue: context\n    });\n  }\n}\n\nmodule.exports = GraphqlExecutor;\n","const fs = require('fs');\nconst path = require('path');\n\nfunction loadRoutes(app, dir, { ignore = [], basePath = '' }) {\n  const paths = [];\n\n  fs.readdirSync(dir)\n    .filter(file => path.extname(file) === '.js' && ignore.indexOf(file) < 0)\n    .forEach(file => {\n      const routes = require(path.join(dir, file));\n      let basePaths = routes.basePath || '';\n      delete routes.basePath;\n      if (typeof basePaths === 'string') basePaths = [basePaths];\n\n      basePaths.forEach(basep => {\n        for (const method in routes) {\n          const methodRoutes = routes[method];\n          for (let r in methodRoutes) {\n            app[method](basePath + basep + r, methodRoutes[r]);\n            paths.push(basePath + basep + r);\n          }\n        }\n      });\n    });\n\n  return paths;\n}\n\nmodule.exports = loadRoutes;\n","module.exports = {\n  fileHeader: '# THIS FILE WAS AUTOGENERATED BY SIFRR-API. DO NOT EDIT THIS FILE DIRECTLY.\\n',\n  timestampHeader: `# Genarated at ${new Date().toUTCString()} (${Date.now()})\\n`,\n  fileSeparator: '#### Graphql Schema ####\\n\\n'\n};\n","const fs = require('fs');\nconst path = require('path');\nconst mkdirp = require('mkdirp');\nconst attrsToTypes = require('./attrtypes');\nconst flatten = require('./flatten');\nconst { makeExecutableSchema } = require('graphql-tools');\nconst { fileHeader, timestampHeader, fileSeparator } = require('./constants');\n\nfunction getTypeDef(qs, resolvers) {\n  for (let q in qs) {\n    const qdet = qs[q];\n    resolvers[q] = qdet.resolver;\n  }\n  return flatten(attrsToTypes(qs), '\\n  ', true);\n}\n\nfunction createSchemaFromModels(\n  models,\n  { extra = '', queries = {}, mutations = {}, schemaPath } = {}\n) {\n  const connections = {},\n    typeDefs = [],\n    resolvers = {};\n  for (let modelName in models) {\n    const model = models[modelName];\n    typeDefs.push(model.getSchema());\n    Object.assign(queries, model.queries);\n    Object.assign(mutations, model.mutations);\n    resolvers[model.type] = resolvers[model.type] || {};\n    Object.assign(resolvers[model.type], model.getResolvers());\n    model.connections.forEach(conn => {\n      connections[conn.type] = conn.base || conn;\n    });\n  }\n\n  for (let name in connections) {\n    const conn = connections[name];\n    typeDefs.push(conn.getSchema());\n    resolvers[conn.type] = resolvers[conn.type] || {};\n    Object.assign(resolvers[conn.type], conn.getResolvers());\n  }\n\n  const qnew = {},\n    mnew = {};\n\n  const queryMut = `type Query {\n  ${getTypeDef(queries, qnew)}\n}\n\ntype Mutation {\n  ${getTypeDef(mutations, mnew)}\n}\n\nscalar SequelizeJSON\nscalar Date\n${extra}`;\n\n  typeDefs.unshift(queryMut);\n  resolvers.Query = qnew;\n  resolvers.Mutation = mnew;\n\n  if (schemaPath) {\n    mkdirp(path.dirname(schemaPath));\n    const comment = fileHeader + timestampHeader + fileSeparator;\n    const oldFileContent = fs.existsSync(schemaPath)\n      ? fs.readFileSync(schemaPath, { encoding: 'UTF-8' }).split(fileSeparator)[1]\n      : null;\n    const newFileContent = typeDefs.join('\\n\\n') + '\\n';\n    if (oldFileContent !== newFileContent) fs.writeFileSync(schemaPath, comment + newFileContent);\n  }\n\n  return makeExecutableSchema({\n    typeDefs,\n    resolvers\n  });\n}\n\nmodule.exports = createSchemaFromModels;\n","const filter = require('../utils/filterobject');\n\nfunction reqToVariables(req, { allowed = [] } = {}) {\n  let args = {};\n  Object.assign(args, req.query, req.body, req.params);\n\n  if (allowed.length > 0) args = filter(args, arg => allowed.indexOf(arg) >= 0);\n\n  for (let arg in args) {\n    try {\n      args[arg] = JSON.parse(args[arg]);\n    } catch (e) {\n      // Do nothing if it is not valid json\n    }\n  }\n\n  return args;\n}\n\nmodule.exports = reqToVariables;\n","const SifrrApi = {};\nSifrrApi.SequelizeModel = require('./api/ormmodels/sequelize');\nSifrrApi.GraphqlExecutor = require('./api/graphqlexecutor');\nSifrrApi.loadRoutes = require('./api/loadroutes');\nSifrrApi.createSchemaFromModels = require('./api/createschemafrommodels');\nSifrrApi.reqToVariables = require('./api/reqtovariables');\n\nmodule.exports = SifrrApi;\n"],"names":["attrs","separator","addDescription","str","attr","description","push","type","join","json","fxn","res","k","required","allowed","length","filter","indexOf","ret","bang","returnType","constructor","name","ofType","args","flatten","BaseType","attributes","_attributes","addAttribute","attribute","filterAttributes","_allowedAttrs","_reqAttrs","getFilteredAttributes","attrTypes","getResolvers","resolvers","resolver","schemaPrefix","Model","queries","mutations","connections","addConnection","connection","addConnectionQuery","addQuery","query","addMutation","mutation","getSchema","Connection","nodeType","clone","conn","base","addArgument","_graphql","_base","_connection","_arrayconnection","_mutation","_node","_plural","attributeFields","defaultListArgs","defaultArgs","require$$0","createConnectionResolver","connectionArgs","require$$1","SequelizeModel","Sequelize","init","options","schema","graphqlModel","GqModel","graphqlConnection","GqConnection","target","resolveConnection","_onInit","belongsToMany","model","graphqlAssoc","belongsTo","hasMany","hasOne","multiple","as","useConnection","q","m","a","extraAttributes","addAttr","onInit","gqAttrs","gqArgs","attrsToTypes","Object","assign","getQueryResolver","_","ctx","info","include","arg","where","assocs","split","_assocsToInclude","before","findOptions","createMutationResolver","create","updateMutationResolver","id","update","then","findByPk","upsertMutationResolver","upsert","deleteMutationResolver","destroy","column","pop","assocName","shift","association","graphql","GraphqlExecutor","executableSchema","_schema","_middlewares","resolve","variables","context","source","variableValues","contextValue","loadRoutes","app","dir","ignore","basePath","paths","fs","readdirSync","file","path","extname","forEach","routes","require","basePaths","basep","method","methodRoutes","r","fileHeader","timestampHeader","Date","toUTCString","now","fileSeparator","makeExecutableSchema","getTypeDef","qs","qdet","createSchemaFromModels","models","extra","schemaPath","typeDefs","modelName","qnew","mnew","queryMut","unshift","Query","Mutation","mkdirp","dirname","comment","oldFileContent","existsSync","readFileSync","encoding","newFileContent","writeFileSync","reqToVariables","req","body","params","JSON","parse","e","SifrrApi","require$$2","require$$3","require$$4"],"mappings":"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"}
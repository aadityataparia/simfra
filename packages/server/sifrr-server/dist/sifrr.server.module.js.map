{"version":3,"file":"sifrr.server.module.js","sources":["../src/server/utils.js","../src/server/mime.js","../src/server/sendfile.js","../src/server/formdata.js","../src/server/loadroutes.js","../src/server/baseapp.js","../src/server/app.js","../src/server/sslapp.js","../src/sifrr.server.js"],"sourcesContent":["function writeHeaders(res, headers, other) {\n  if (typeof other !== 'undefined') {\n    res.writeHeader(headers, other.toString());\n  } else {\n    for (let n in headers) {\n      res.writeHeader(n, headers[n].toString());\n    }\n  }\n}\n\nfunction clone(obj) {\n  if (typeof obj === 'object') {\n    if (Array.isArray(obj)) return obj.slice(0);\n    if (obj === null) return null;\n    return Object.assign({}, obj);\n  } else {\n    return obj;\n  }\n}\n\nfunction extend(who, from, overwrite = true) {\n  const ownProps = Object.getOwnPropertyNames(from.prototype);\n  ownProps.forEach(prop => {\n    if (prop === 'constructor') return;\n    if (who[prop] && overwrite) {\n      who[`_${prop}`] = who[prop];\n    }\n    if (typeof from.prototype[prop] === 'function') who[prop] = from.prototype[prop].bind(who);\n    else who[prop] = clone(from.prototype[prop]);\n  });\n}\n\nmodule.exports = {\n  writeHeaders,\n  extend\n};\n","const mimes = {\n  '3gp' : 'video/3gpp',\n  a     : 'application/octet-stream',\n  ai    : 'application/postscript',\n  aif   : 'audio/x-aiff',\n  aiff  : 'audio/x-aiff',\n  asc   : 'application/pgp-signature',\n  asf   : 'video/x-ms-asf',\n  asm   : 'text/x-asm',\n  asx   : 'video/x-ms-asf',\n  atom  : 'application/atom+xml',\n  au    : 'audio/basic',\n  avi   : 'video/x-msvideo',\n  bat   : 'application/x-msdownload',\n  bin   : 'application/octet-stream',\n  bmp   : 'image/bmp',\n  bz2   : 'application/x-bzip2',\n  c     : 'text/x-c',\n  cab   : 'application/vnd.ms-cab-compressed',\n  cc    : 'text/x-c',\n  chm   : 'application/vnd.ms-htmlhelp',\n  class : 'application/octet-stream',\n  com   : 'application/x-msdownload',\n  conf  : 'text/plain',\n  cpp   : 'text/x-c',\n  crt   : 'application/x-x509-ca-cert',\n  css   : 'text/css',\n  csv   : 'text/csv',\n  cxx   : 'text/x-c',\n  deb   : 'application/x-debian-package',\n  der   : 'application/x-x509-ca-cert',\n  diff  : 'text/x-diff',\n  djv   : 'image/vnd.djvu',\n  djvu  : 'image/vnd.djvu',\n  dll   : 'application/x-msdownload',\n  dmg   : 'application/octet-stream',\n  doc   : 'application/msword',\n  dot   : 'application/msword',\n  dtd   : 'application/xml-dtd',\n  dvi   : 'application/x-dvi',\n  ear   : 'application/java-archive',\n  eml   : 'message/rfc822',\n  eps   : 'application/postscript',\n  exe   : 'application/x-msdownload',\n  f     : 'text/x-fortran',\n  f77   : 'text/x-fortran',\n  f90   : 'text/x-fortran',\n  flv   : 'video/x-flv',\n  for   : 'text/x-fortran',\n  gem   : 'application/octet-stream',\n  gemspec: 'text/x-script.ruby',\n  gif   : 'image/gif',\n  gz    : 'application/x-gzip',\n  h     : 'text/x-c',\n  hh    : 'text/x-c',\n  htm   : 'text/html',\n  html  : 'text/html',\n  ico   : 'image/vnd.microsoft.icon',\n  ics   : 'text/calendar',\n  ifb   : 'text/calendar',\n  iso   : 'application/octet-stream',\n  jar   : 'application/java-archive',\n  java  : 'text/x-java-source',\n  jnlp  : 'application/x-java-jnlp-file',\n  jpeg  : 'image/jpeg',\n  jpg   : 'image/jpeg',\n  js    : 'text/javascript',\n  json  : 'application/json',\n  log   : 'text/plain',\n  m3u   : 'audio/x-mpegurl',\n  m4v   : 'video/mp4',\n  man   : 'text/troff',\n  mathml: 'application/mathml+xml',\n  mbox  : 'application/mbox',\n  mdoc  : 'text/troff',\n  me    : 'text/troff',\n  mid   : 'audio/midi',\n  midi  : 'audio/midi',\n  mime  : 'message/rfc822',\n  mjs   : 'text/javascript',\n  mml   : 'application/mathml+xml',\n  mng   : 'video/x-mng',\n  mov   : 'video/quicktime',\n  mp3   : 'audio/mpeg',\n  mp4   : 'video/mp4',\n  mp4v  : 'video/mp4',\n  mpeg  : 'video/mpeg',\n  mpg   : 'video/mpeg',\n  ms    : 'text/troff',\n  msi   : 'application/x-msdownload',\n  odp   : 'application/vnd.oasis.opendocument.presentation',\n  ods   : 'application/vnd.oasis.opendocument.spreadsheet',\n  odt   : 'application/vnd.oasis.opendocument.text',\n  ogg   : 'application/ogg',\n  p     : 'text/x-pascal',\n  pas   : 'text/x-pascal',\n  pbm   : 'image/x-portable-bitmap',\n  pdf   : 'application/pdf',\n  pem   : 'application/x-x509-ca-cert',\n  pgm   : 'image/x-portable-graymap',\n  pgp   : 'application/pgp-encrypted',\n  pkg   : 'application/octet-stream',\n  pl    : 'text/x-script.perl',\n  pm    : 'text/x-script.perl-module',\n  png   : 'image/png',\n  pnm   : 'image/x-portable-anymap',\n  ppm   : 'image/x-portable-pixmap',\n  pps   : 'application/vnd.ms-powerpoint',\n  ppt   : 'application/vnd.ms-powerpoint',\n  ps    : 'application/postscript',\n  psd   : 'image/vnd.adobe.photoshop',\n  py    : 'text/x-script.python',\n  qt    : 'video/quicktime',\n  ra    : 'audio/x-pn-realaudio',\n  rake  : 'text/x-script.ruby',\n  ram   : 'audio/x-pn-realaudio',\n  rar   : 'application/x-rar-compressed',\n  rb    : 'text/x-script.ruby',\n  rdf   : 'application/rdf+xml',\n  roff  : 'text/troff',\n  rpm   : 'application/x-redhat-package-manager',\n  rss   : 'application/rss+xml',\n  rtf   : 'application/rtf',\n  ru    : 'text/x-script.ruby',\n  s     : 'text/x-asm',\n  sgm   : 'text/sgml',\n  sgml  : 'text/sgml',\n  sh    : 'application/x-sh',\n  sig   : 'application/pgp-signature',\n  snd   : 'audio/basic',\n  so    : 'application/octet-stream',\n  svg   : 'image/svg+xml',\n  svgz  : 'image/svg+xml',\n  swf   : 'application/x-shockwave-flash',\n  t     : 'text/troff',\n  tar   : 'application/x-tar',\n  tbz   : 'application/x-bzip-compressed-tar',\n  tcl   : 'application/x-tcl',\n  tex   : 'application/x-tex',\n  texi  : 'application/x-texinfo',\n  texinfo: 'application/x-texinfo',\n  text  : 'text/plain',\n  tif   : 'image/tiff',\n  tiff  : 'image/tiff',\n  torrent: 'application/x-bittorrent',\n  tr    : 'text/troff',\n  txt   : 'text/plain',\n  vcf   : 'text/x-vcard',\n  vcs   : 'text/x-vcalendar',\n  vrml  : 'model/vrml',\n  war   : 'application/java-archive',\n  wav   : 'audio/x-wav',\n  wma   : 'audio/x-ms-wma',\n  wmv   : 'video/x-ms-wmv',\n  wmx   : 'video/x-ms-wmx',\n  wrl   : 'model/vrml',\n  wsdl  : 'application/wsdl+xml',\n  xbm   : 'image/x-xbitmap',\n  xhtml : 'application/xhtml+xml',\n  xls   : 'application/vnd.ms-excel',\n  xml   : 'application/xml',\n  xpm   : 'image/x-xpixmap',\n  xsl   : 'application/xml',\n  xslt  : 'application/xslt+xml',\n  yaml  : 'text/yaml',\n  yml   : 'text/yaml',\n  zip   : 'application/zip',\n  default: 'text/html'\n};\nmodule.exports = {\n  getMime: (path) => {\n    const i = path.lastIndexOf('.');\n    return mimes[path.substr(i + 1).toLowerCase()] || mimes['default'];\n  },\n  mimes\n};\n","const fs = require('fs');\nconst zlib = require('zlib');\n\nconst compressions = {\n  br: zlib.createBrotliCompress,\n  gzip: zlib.createGzip,\n  deflate: zlib.createDeflate\n};\nconst { writeHeaders } = require('./utils');\nconst getMime = require('./mime').getMime;\nconst bytes = 'bytes=';\n\nfunction sendFile(res, req, path, options) {\n  const reqHeaders = {\n    'if-modified-since': req.getHeader('if-modified-since'),\n    range: req.getHeader('range'),\n    'accept-encoding': req.getHeader('accept-encoding')\n  };\n\n  sendFileToRes(res, reqHeaders, path, options);\n}\n\nfunction sendFileToRes(res, reqHeaders, path, {\n  lastModified = true,\n  headers = {},\n  compress = true,\n  compressionOptions = {\n    priority: [ 'gzip', 'br', 'deflate' ]\n  },\n  cache = false\n} = {}) {\n  let { mtime, size } = fs.statSync(path);\n  mtime.setMilliseconds(0);\n  const mtimeutc = mtime.toUTCString();\n\n  // handling last modified\n  if (lastModified) {\n    // Return 304 if last-modified\n    if (reqHeaders['if-modified-since']) {\n      if (new Date(reqHeaders['if-modified-since']) >= mtime) {\n        res.writeStatus('304 Not Modified');\n        return res.end();\n      }\n    }\n    headers['last-modified'] = mtimeutc;\n  }\n  headers['content-type'] = getMime(path);\n\n  // check cache\n  if (cache) {\n    res.onAborted(() => {});\n    return cache.wrap(`${path}_${mtimeutc}`, (cb) => {\n      fs.readFile(path, cb);\n    }, { ttl: 0 }, (err, string) => {\n      if (err) {\n        res.writeStatus('500 Internal server error');\n        res.end();\n        throw err;\n      }\n      writeHeaders(res, headers);\n      res.end(string);\n    });\n  }\n\n  // write data\n  let start = 0, end = size - 1;\n\n  if (reqHeaders.range) {\n    compress = false;\n    const parts = reqHeaders.range.replace(bytes, '').split('-');\n    start = parseInt(parts[0], 10);\n    end = parts[1] ? parseInt(parts[1], 10) : end;\n    headers['accept-ranges'] = 'bytes';\n    headers['content-range'] = `bytes ${start}-${end}/${size}`;\n    size = end - start + 1;\n    res.writeStatus('206 Partial Content');\n  }\n\n  // for size = 0\n  if (end < 0) end = 0;\n\n  let readStream = fs.createReadStream(path, { start, end });\n  // Compression;\n  let compressed = false;\n  if (compress) {\n    const l = compressionOptions.priority.length;\n    for (let i = 0; i < l; i++) {\n      const type = compressionOptions.priority[i];\n      if (reqHeaders['accept-encoding'].indexOf(type) > -1) {\n        compressed = true;\n        const compressor = compressions[type](compressionOptions);\n        readStream.pipe(compressor);\n        readStream = compressor;\n        headers['content-encoding'] = compressionOptions.priority[i];\n        break;\n      }\n    }\n  }\n\n  res.onAborted(() => readStream.destroy());\n  writeHeaders(res, headers);\n  if (compressed) {\n    readStream.on('data', (buffer) => {\n      res.write(buffer.buffer.slice(buffer.byteOffset, buffer.byteOffset + buffer.byteLength));\n    });\n  } else {\n    readStream.on('data', (buffer) => {\n      const chunk = buffer.buffer.slice(buffer.byteOffset, buffer.byteOffset + buffer.byteLength),\n        lastOffset = res.getWriteOffset();\n\n      // First try\n      const [ok, done] = res.tryEnd(chunk, size);\n\n      if (done) {\n        readStream.destroy();\n      } else if (!ok) {\n        // pause because backpressure\n        readStream.pause();\n\n        // Save unsent chunk for later\n        res.ab = chunk;\n        res.abOffset = lastOffset;\n\n        // Register async handlers for drainage\n        res.onWritable((offset) => {\n          const [ok, done] = res.tryEnd(res.ab.slice(offset - res.abOffset), size);\n          if (done) {\n            readStream.destroy();\n          } else if (ok) {\n            readStream.resume();\n          }\n          return ok;\n        });\n      }\n    });\n  }\n  readStream\n    .on('error', res.close)\n    .on('end', () => {\n      res.end();\n    });\n}\n\nmodule.exports = sendFile;","const fs = require('fs');\nconst Busboy = require('busboy');\nconst mkdirp = require('mkdirp');\n\nmodule.exports = function(contType, options = {}) {\n  options.headers = {\n    'content-type': contType\n  };\n  return new Promise((resolve, reject) => {\n    const busb = new Busboy(options);\n    const ret = {};\n\n    this.bodyStream().pipe(busb);\n\n    busb.on('limit', () => {\n      if (options.abortOnLimit) {\n        reject('limit');\n      }\n    });\n\n    busb.on('file', function(fieldname, file, filename, encoding, mimetype) {\n      const value = {\n        filename,\n        encoding,\n        mimetype\n      };\n\n      if (typeof options.tmpDir === 'string') {\n        const fileToSave = path.join(options.tmpDir, filename);\n        mkdirp(path.dirname(fileToSave));\n\n        file.pipe(fs.createWriteStream(fileToSave));\n        value.filePath = fileToSave;\n      } else options.onFile(fieldname, file, filename, encoding, mimetype);\n\n      setRetValue(ret, fieldname, value);\n    });\n\n    busb.on('field', function(fieldname, value) {\n      if (typeof options.onField === 'function') options.onField(fieldname, value);\n\n      setRetValue(ret, fieldname, value);\n    });\n\n    busb.on('finish', function() {\n      resolve(ret);\n    });\n\n    busb.on('error', reject);\n  });\n};\n\nfunction setRetValue(ret, fieldname, value) {\n  if (fieldname.slice(-2) === '[]') {\n    fieldname = fieldname.slice(0, fieldname.length - 2);\n    if (Array.isArray(ret[fieldname])) {\n      ret[fieldname].push(value);\n    } else {\n      ret[fieldname] = [value];\n    }\n  } else {\n    if (Array.isArray(ret[fieldname])) {\n      ret[fieldname].push(value);\n    } else if (ret[fieldname]) {\n      ret[fieldname] = [ret[fieldname], value];\n    }  else {\n      ret[fieldname] = value;\n    }\n  }\n}\n","const fs = require('fs');\nconst path = require('path');\n\nfunction loadRoutes(dir, { filter = () => true, basePath = '' } = {}) {\n  let files;\n  const paths = [];\n\n  if (fs.statSync(dir).isDirectory()) {\n    files = fs\n      .readdirSync(dir)\n      .filter(filter).map(file => path.join(dir, file));\n  } else {\n    files = [dir];\n  }\n\n  files.forEach((file) => {\n    if (fs.statSync(file).isDirectory()) {\n      // Recursive if directory\n      paths.push(...loadRoutes.call(this, file, { filter, basePath }));\n    } else if (path.extname(file) === '.js') {\n      const routes = require(file);\n      let basePaths = routes.basePath || [''];\n      delete routes.basePath;\n      if (typeof basePaths === 'string') basePaths = [basePaths];\n\n      basePaths.forEach((basep) => {\n        for (const method in routes) {\n          const methodRoutes = routes[method];\n          for (let r in methodRoutes) {\n            if (!Array.isArray(methodRoutes[r])) methodRoutes[r] = [methodRoutes[r]];\n            this[method](basePath + basep + r, ...methodRoutes[r]);\n            paths.push(basePath + basep + r);\n          }\n        }\n      });\n    }\n  });\n\n  return paths;\n}\n\nmodule.exports = loadRoutes;\n","const fs = require('fs');\nconst path = require('path');\nconst { Readable } = require('stream');\nconst uWS = require('uWebSockets.js');\n\nconst sendFile = require('./sendfile');\nconst formData = require('./formdata');\nconst loadroutes = require('./loadroutes');\n\nconst contTypes = ['application/x-www-form-urlencoded', 'multipart/form-data'];\nconst noOp = () => true;\n\nclass BaseApp {\n  file(pattern, path, options) {\n    this.get(pattern, (res, req) => {\n      sendFile(res, req, path, options);\n    });\n    return this;\n  }\n\n  folder(prefix, folder, options, base = folder) {\n    // not a folder\n    if (!fs.statSync(folder).isDirectory()) {\n      throw Error('Given path is not a directory: ' + folder);\n    }\n\n    // ensure slash in beginning and no trailing slash for prefix\n    if (prefix[0] !== '/') prefix = '/' + prefix;\n    if (prefix[prefix.length - 1] === '/') prefix = prefix.slice(0, -1);\n\n    // serve folder\n    const filter = options ? options.filter || noOp : noOp;\n    fs.readdirSync(folder).forEach(file => {\n      // Absolute path\n      const filePath = path.join(folder, file);\n\n      // Return if filtered\n      if (!filter(filePath)) return;\n\n      if (fs.statSync(filePath).isDirectory()) {\n        // Recursive if directory\n        this.folder(prefix, filePath, options, base);\n      } else {\n        // serve from this folder\n        const url = '/' + path.relative(base, filePath);\n        // don't add if route already present\n        if (this._staticPaths[prefix + url]) return;\n\n        this._staticPaths[prefix + url] = [filePath, options ];\n        this.get(prefix + url, this._serveStatic);\n      }\n    });\n\n    if (options && options.watch) {\n      if (this._watched.indexOf(folder) < 0) {\n        fs.watch(folder, (event, filename) => {\n          if (event === 'rename') {\n            if (!filename) return;\n            const filePath = path.join(folder, filename);\n            const url = '/' + path.relative(base, filePath);\n            if (fs.existsSync(filePath) && filter(filePath)) {\n              this._staticPaths[prefix + url] = [filePath, options];\n              this.get(prefix + url, this._serveStatic);\n            } else {\n              delete this._staticPaths[prefix + url];\n            }\n          }\n        });\n        this._watched.push(folder);\n      }\n    }\n    return this;\n  }\n\n  _serveStatic(res, req) {\n    const options = this._staticPaths[req.getUrl()];\n    if (typeof options === 'undefined') {\n      res.writeStatus('404 Not Found');\n      res.end();\n    } else sendFile(res, req, options[0], options[1]);\n  }\n\n  post(pattern, handler) {\n    if (typeof handler !== 'function') throw Error(`handler should be a function, given ${typeof handler}.`);\n    this._post(pattern, (res, req) => {\n      const contType = req.getHeader('content-type');\n\n      res.bodyStream = function() {\n        const stream = new Readable();\n        stream._read = noOp;\n\n        this.onData((ab, isLast) => {\n          // uint and then slicing is bit faster than slice and then uint\n          stream.push(new Uint8Array(ab, ab.byteOffset, ab.byteLength).slice(0, ab.byteLength));\n          if (isLast) {\n            stream.push(null);\n          }\n        });\n\n        return stream;\n      };\n\n      res.body = function() {\n        return new Promise(resolve => {\n          const buffers = [];\n          const stream = this.bodyStream();\n          stream.on('data', buffers.push.bind(buffers));\n\n          stream.on('end', () => {\n            switch (buffers.length) {\n            case 0:\n              resolve(Buffer.allocUnsafe(0));\n              break;\n            case 1:\n              resolve(buffers[0]);\n              break;\n            default:\n              resolve(Buffer.concat(buffers));\n            }\n          });\n        });\n      };\n\n      if (contType.indexOf('application/json') > -1) res.json = async () => JSON.parse(await res.body());\n      if (contTypes.map(t => contType.indexOf(t) > -1).indexOf(true) > -1) res.formData = formData.bind(res, contType);\n\n      handler(res, req);\n    });\n    return this;\n  }\n\n  load(dir, options) {\n    loadroutes.call(this, dir, options);\n    return this;\n  }\n\n  listen(h, p = noOp, cb) {\n    if (typeof cb === 'function') {\n      this._listen(h, p, (socket) => {\n        this._socket = socket;\n        cb(socket);\n      });\n    } else {\n      this._listen(h, (socket) => {\n        this._socket = socket;\n        p(socket);\n      });\n    }\n    return this;\n  }\n\n  close() {\n    if (this._socket) {\n      uWS.us_listen_socket_close(this._socket);\n      this._socket = null;\n    }\n  }\n}\n\nBaseApp.prototype._staticPaths = {};\nBaseApp.prototype._watched = [];\n\nmodule.exports = BaseApp;\n","const uWS = require('uWebSockets.js');\nconst BaseApp = require('./baseapp');\nconst { extend } = require('./utils');\n\nclass App extends uWS.App {\n  constructor(options = {}) {\n    super(options);\n    extend(this, BaseApp);\n  }\n}\n\nmodule.exports = App;\n","const uWS = require('uWebSockets.js');\nconst BaseApp = require('./baseapp');\nconst { extend } = require('./utils');\n\nclass SSLApp extends uWS.SSLApp {\n  constructor(options) {\n    super(options);\n    extend(this, BaseApp);\n  }\n}\n\nmodule.exports = SSLApp;\n","module.exports = {\n  App: require('./server/app'),\n  SSLApp: require('./server/sslapp'),\n  mimes: require('./server/mime').mimes,\n  getMime: require('./server/mime').getMime,\n  writeHeaders: require('./server/utils').writeHeaders,\n  sendFile: require('./server/sendfile')\n};\n"],"names":["writeHeaders","require$$0","require$$1","Busboy","path","require","sendFile","formData","uWS","extend","BaseApp","require$$2","require$$3","require$$4"],"mappings":"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"}
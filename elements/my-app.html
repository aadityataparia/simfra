<template>
  <style>
    p {
      color: red;
    }
    slot::slotted(p) {
      display: block;
      text-decoration: none;
      border: 1px solid blue;
      background: none;
    }
  </style>
  <slot></slot>
  <p>binding with . - #{bind.text}</p>
  <p>binding with [] - #{bind[text]}</p>
  <p>binding double [] - #{bind[randomElement][0]}</p>
  <input value=#{bind.input}>
</template>
<script>
  let myApp = SFComponent['my-app'];
  myApp.defaultBind = {
    "text": "I\'m a shadow-element using Shadow DOM!",
    "input": "whatever",
    "randomElement": ["this is random text", "this is second random text"]
  }
  myApp.attributeChangedCallback = function(e) {
    e.shadowRoot.querySelector("input").addEventListener("click", myAppClick);
  }
  myApp.bindDataChangedCallback = function(e, data) {
    var randomEl = document.createElement('random-el');
    e.shadowRoot.appendChild(randomEl);
    SFComponent.setBindData(randomEl, data["randomElement"]);
    e.shadowRoot.innerHTML += '<random-el data-bind=\'["whatever","abcd"]\'></random-el>';
  }
  let randomEL = new SFComponent('random-el');

  function myAppClick() {
    alert('my-app inout clicked');
  }
</script>